<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoCo æ¯æ—¥æ—¥è¨˜</title>
    <style>
        body { font-family: sans-serif; padding: 10px; background-color: #fff9e6; color: #5d4037; }
        .card { background: white; padding: 15px; border-radius: 15px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); max-width: 500px; margin: auto; position: relative; }
        
        .top-nav { display: flex; justify-content: flex-end; gap: 8px; margin-bottom: 15px; flex-wrap: wrap; }
        .nav-btn { padding: 6px 12px; font-size: 11px; font-weight: bold; border-radius: 20px; cursor: pointer; text-decoration: none; border: 1px solid #ffa726; }
        .btn-chat { background-color: #f44336; color: white; border: none; }
        .btn-home { background-color: #fff; color: #ffa726; }
        .btn-health { background-color: #66BB6A; color: white; border: none; }

        .profile-area { background-color: #fff3e0; padding: 15px; border-radius: 12px; margin-bottom: 20px; border: 2px solid #ffcc80; }
        .profile-title { font-size: 12px; color: #e65100; margin: 0; text-align: center; font-weight: bold; }
        .profile-main { display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 5px; }
        .pet-name-display { font-size: 24px; color: #f57c00; font-weight: bold; }
        .profile-details { font-size: 13px; text-align: center; margin-top: 5px; color: #8d6e63; line-height: 1.4; }
        
        h2#diaryTitle { text-align: center; color: #e65100; font-size: 18px; margin-bottom: 10px; }

        .section { margin-bottom: 18px; border-bottom: 1px solid #ffe0b2; padding-bottom: 10px; }
        label { display: block; font-weight: bold; margin-bottom: 8px; color: #e65100; font-size: 14px; }
        input, textarea, select { width: 100%; padding: 12px; border: 1px solid #ffcc80; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
        
        .upload-section { background-color: #fff8e1; border: 2px dashed #ffcc80; padding: 15px; border-radius: 10px; margin-top: 10px; margin-bottom: 18px; text-align: center; }
        .upload-text { font-size: 14px; margin-bottom: 8px; font-weight: bold; color: #e65100; }

        .radio-group { display: flex; flex-wrap: wrap; gap: 8px; }
        .radio-group label { background: #fff; border: 1px solid #ffcc80; padding: 8px 12px; border-radius: 20px; font-weight: normal; cursor: pointer; font-size: 13px; flex: 1; text-align: center; min-width: 70px; }
        .radio-group input { display: none; }
        .radio-group input:checked + label { background: #ffa726; color: white; border-color: #ffa726; }
        
        .submit-btn { width: 100%; padding: 15px; background-color: #ffa726; color: white; border: none; border-radius: 30px; font-size: 18px; font-weight: bold; margin-top: 10px; cursor: pointer; box-shadow: 0 4px 0 #e67e22; }
        .submit-btn:active { transform: translateY(2px); box-shadow: 0 2px 0 #e67e22; }
    </style>
</head>
<body>

<div class="card">
    <div class="top-nav">
        <button class="nav-btn btn-chat" onclick="liff.closeWindow()">ğŸ’¬ CoCoå…ˆç”Ÿã«ç›´ç›¸è«‡</button>
        <button class="nav-btn btn-home" onclick="location.href='index.html'">ğŸ¾ ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«</button>
        <button class="nav-btn btn-health" onclick="location.href='health.html'">ğŸ¥ å¥åº·è¨ºæ–­</button>
    </div>

    <h2 id="diaryTitle">ğŸ¾ CoCo æ¯æ—¥æ—¥è¨˜</h2>

    <div class="profile-area">
        <p class="profile-title">âœ¨ ç¾åœ¨ã®è¨˜éŒ²å¯¾è±¡ âœ¨</p>
        <div class="profile-main">
            <span class="pet-name-display" id="displayPetName">CoCo</span>
        </div>
        <div class="profile-details" id="displayProfile"></div>
    </div>

    <form id="diaryForm">
        <div class="section">
            <label>ğŸ¶ ãƒšãƒƒãƒˆã‚’é¸æŠ</label>
            <select name="petName" id="petSelect" onchange="updateProfile()">
                <option value="CoCo">CoCo</option>
                <option value="ã‚µãƒ–ã¡ã‚ƒã‚“">ã‚µãƒ–ã¡ã‚ƒã‚“</option>
            </select>
        </div>

        <div class="section">
            <label>ğŸ“… æ—¥ä»˜</label>
            <input type="date" id="date" name="date">
        </div>

        <div class="section">
            <label>âš–ï¸ ä½“é‡ (kg)</label>
            <input type="number" step="0.01" name="weight" placeholder="ä¾‹: 4.55">
        </div>

        <div class="section">
            <label>ğŸ’© ä¾¿ã®çŠ¶æ…‹</label>
            <div class="radio-group">
                <input type="radio" id="unco1" name="poop" value="æ™®é€š" checked><label for="unco1">æ™®é€š</label>
                <input type="radio" id="unco2" name="poop" value="æŸ”ã‚‰ã‹ã‚"><label for="unco2">æŸ”ã‚‰ã‹ã‚</label>
                <input type="radio" id="unco3" name="poop" value="ç¡¬ã‚"><label for="unco3">ç¡¬ã‚</label>
            </div>
        </div>

        <div class="section">
            <label>ğŸš é£Ÿäº‹ã®å®Œé£Ÿåº¦</label>
            <div class="radio-group">
                <input type="radio" id="eat1" name="mealAmount" value="å®Œé£Ÿ" checked><label for="eat1">å®Œé£Ÿ</label>
                <input type="radio" id="eat2" name="mealAmount" value="åŠåˆ†"><label for="eat2">åŠåˆ†</label>
                <input type="radio" id="eat3" name="mealAmount" value="é£Ÿã¹ãªã„"><label for="eat3">é£Ÿã¹ãªã„</label>
            </div>
        </div>

        <div class="section">
            <label>ğŸ– é£Ÿäº‹ã®è©³ç´°ï¼ˆå›æ•°ãƒ»å†…å®¹ãƒ»é‡ãªã©ï¼‰</label>
            <textarea name="mealDetail" rows="2" placeholder="ä¾‹ï¼šæœå¤•2å›ã€‚ã‚«ãƒªã‚«ãƒª20gã¨ã•ã•ã¿ãƒˆãƒƒãƒ”ãƒ³ã‚°ã‚’å®Œé£Ÿï¼"></textarea>
        </div>

        <div class="section">
            <label>ğŸƒ å…ƒæ°—ãƒ»æ§˜å­</label>
            <div class="radio-group">
                <input type="radio" id="genki1" name="condition" value="å…ƒæ°—ï¼" checked><label for="genki1">å…ƒæ°—ï¼</label>
                <input type="radio" id="genki2" name="condition" value="æ™®é€š"><label for="genki2">æ™®é€š</label>
                <input type="radio" id="genki3" name="condition" value="å°‘ã—å…ƒæ°—ãªã„"><label for="genki3">å°‘ã—å…ƒæ°—ãªã„</label>
            </div>
        </div>

        <div class="section">
            <label>ğŸ’Š ä»Šæ—¥ã®ãŠè–¬</label>
            <input type="text" name="medicine" placeholder="é£²ã¾ã›ãŸãŠè–¬ãŒã‚ã‚Œã°å…¥åŠ›">
        </div>

        <div class="section">
            <label>ğŸ’‰ ãƒ¯ã‚¯ãƒãƒ³ãƒ»äºˆé˜²æ¥ç¨®</label>
            <input type="text" name="vaccine" placeholder="æ¥ç¨®ã—ãŸå†…å®¹ï¼ˆç‹‚çŠ¬ç—…ãªã©ï¼‰">
        </div>

        <div class="section">
            <label>ğŸ“ å‚™è€ƒãƒ»ä¸€è¨€ãƒ¡ãƒ¢</label>
            <textarea name="concern" rows="3" placeholder="ä»Šæ—¥ã®å¯æ„›ã„æ§˜å­ãªã©"></textarea>
        </div>

        <div class="upload-section">
            <p class="upload-text">ğŸ“¸ ä»Šæ—¥ã®ãƒ™ã‚¹ãƒˆã‚·ãƒ§ãƒƒãƒˆã‚’ã‚¢ãƒƒãƒ—ï¼</p>
            <input type="file" id="petPhoto" name="petPhoto" accept="image/*" multiple>
        </div>

        <input type="hidden" name="ownerName" value="ãã‚‡ã‚“ã“">
        <button type="submit" class="submit-btn" id="submitBtn">ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«ä¿å­˜ï¼</button>
    </form>
</div>

<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<script>
    const petData = {
        "CoCo": { breed: "ãƒˆã‚¤ãƒ—ãƒ¼ãƒ‰ãƒ«", age: "5æ­³", fixed: "é¿å¦Šæ¸ˆã¿" },
        "ã‚µãƒ–ã¡ã‚ƒã‚“": { breed: "ãƒãƒ¯ãƒ¯", age: "2æ­³", fixed: "æœªé¿å¦Š" }
    };

    function updateProfile() {
        const selected = document.getElementById('petSelect').value;
        const profile = petData[selected];
        document.getElementById('displayPetName').innerText = selected;
        document.getElementById('displayProfile').innerHTML = 
            `ğŸ¶ çŠ¬ç¨®: ${profile.breed} / ğŸ‚ å¹´é½¢: ${profile.age}<br>âœ¨ é¿å¦Šæƒ…å ±: ${profile.fixed}`;
        document.getElementById('diaryTitle').innerText = `ğŸ¾ ${selected} æ¯æ—¥æ—¥è¨˜`;
    }

    liff.init({ liffId: "2008861082-o5jaHAfN" });
    updateProfile();

    const scriptUrl = 'https://script.google.com/macros/s/AKfycbyiCJEBqS-6DrnTsH9TopgEb6D1uM8dmbzr8p3iocwli17V7jRr4fHB-jewakTEG2Qf/exec';    document.getElementById('date').valueAsDate = new Date();

    document.getElementById('diaryForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const btn = document.getElementById('submitBtn');
        btn.innerText = 'é€ä¿¡ä¸­...';
        btn.disabled = true;

        const formData = new FormData(this);
        const data = Object.fromEntries(formData.entries());

        fetch(scriptUrl, {
            method: 'POST',
            mode: 'no-cors',
            body: JSON.stringify(data)
        })
        .then(() => {
            alert('ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«æ—¥è¨˜ã‚’ä¿å­˜ã—ãŸã‚ˆï¼');
            btn.innerText = 'ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«ä¿å­˜ï¼';
            btn.disabled = false;
            this.reset();
            document.getElementById('date').valueAsDate = new Date();
            updateProfile();
        })
        .catch(error => {
            alert('ã‚¨ãƒ©ãƒ¼ï¼');
            btn.disabled = false;
        });
    });
</script>

</body>
</html>